<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>CyberCore // Neo-Logic Interface</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.160.0/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        :root {
            --neon-cyan: #00f3ff;
            --neon-magenta: #ff00ff;
            --bg-dark: #050505;
        }

        body { 
            background: var(--bg-dark); 
            color: var(--neon-cyan); 
            overflow-x: hidden; 
            font-family: 'Courier New', monospace;
            -webkit-font-smoothing: antialiased;
        }

        /* Glitch ridotto per mobile: meno distrazione, più stile */
        .glitch { 
            text-shadow: 2px 0 var(--neon-magenta), -2px 0 var(--neon-cyan); 
            animation: glitch-anim 3s infinite; 
        }

        @keyframes glitch-anim {
            0%, 100% { transform: none; opacity: 1; }
            7% { transform: skew(-0.5deg, -0.9deg); opacity: 0.75; }
            10% { transform: none; opacity: 1; }
            27% { transform: none; }
            30% { transform: skew(0.8deg, -0.1deg); }
            35% { transform: none; }
        }

        canvas { 
            position: fixed; 
            top: 0; 
            left: 0; 
            z-index: 1; 
            pointer-events: none; /* Permette il touch agli elementi sottostanti */
        }

        .cyber-border { 
            clip-path: polygon(0 0, 100% 0, 100% 85%, 92% 100%, 0 100%); 
            border-left: 3px solid var(--neon-cyan); 
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
        }

        .btn-cyber {
            position: relative;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
            transition: all 0.3s ease;
        }

        .btn-cyber:active {
            transform: scale(0.95);
            filter: brightness(1.2);
        }

        @media (max-width: 640px) {
            .glitch { font-size: 3rem !important; }
        }
    </style>
</head>
<body class="antialiased">

    <canvas id="cyber-scene"></canvas>

    <header class="fixed top-0 w-full p-4 md:p-6 flex justify-between uppercase tracking-[0.2em] text-[10px] z-50">
        <div class="flex flex-col">
            <span class="opacity-50">// STATUS</span>
            <span class="text-white">SYSTEM: ONLINE</span>
        </div>
        <div class="flex flex-col text-right">
            <span class="opacity-50">LOCATION: CORE_7</span>
            <span class="text-white">2026.02.21</span>
        </div>
    </header>

    <main class="relative z-20 min-h-[100dvh] flex flex-col items-center justify-center p-6 text-center">
        <article class="max-w-2xl">
            <h1 class="text-5xl md:text-8xl font-black italic uppercase glitch mb-6">
                NEO_LOGIC
            </h1>
            
            <div class="cyber-border p-6 mb-10">
                <p class="text-sm md:text-lg leading-relaxed tracking-tight opacity-90">
                    Architetture digitali evolute. <br class="hidden md:block"> 
                    Oltre il confine della realtà fisica, nel cuore del codice.
                </p>
            </div>

            <button class="btn-cyber px-10 py-4 bg-[var(--neon-cyan)] text-black font-extrabold uppercase text-sm tracking-widest hover:bg-[var(--neon-magenta)] hover:text-white">
                Inizializza Protocollo
            </button>
        </article>
    </main>

    <script>
        // THREE.JS CONFIG
        const canvas = document.getElementById('cyber-scene');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        
        const renderer = new THREE.WebGLRenderer({ 
            canvas: canvas, 
            antialias: window.devicePixelRatio < 2, // Antialias solo su schermi non-retina per performance
            alpha: true 
        });

        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Limite per risparmio batteria
        renderer.setSize(window.innerWidth, window.innerHeight);

        // GRID & GEOMETRY
        const gridHelper = new THREE.GridHelper(100, 30, 0x00f3ff, 0x111111);
        scene.add(gridHelper);

        const geometry = new THREE.TorusKnotGeometry(8, 2, 80, 12);
        const material = new THREE.MeshBasicMaterial({ 
            color: 0xff00ff, 
            wireframe: true, 
            transparent: true, 
            opacity: 0.3 
        });
        const core = new THREE.Mesh(geometry, material);
        scene.add(core);

        camera.position.z = 25;
        camera.position.y = 5;

        // ANIMATION LOOP
        const animate = () => {
            requestAnimationFrame(animate);
            core.rotation.x += 0.003;
            core.rotation.y += 0.005;
            gridHelper.position.z = (Date.now() * 0.002) % 3.33; 
            renderer.render(scene, camera);
        };
        animate();

        // UNIFIED INPUT HANDLING (Mouse + Touch)
        const handleMove = (x, y) => {
            const normX = (x / window.innerWidth - 0.5) * 2;
            const normY = -(y / window.innerHeight - 0.5) * 2;
            gsap.to(core.rotation, { x: normY * 0.4, y: normX * 0.4, duration: 1.5, ease: "power2.out" });
        };

        window.addEventListener('mousemove', (e) => handleMove(e.clientX, e.clientY));
        window.addEventListener('touchmove', (e) => {
            if(e.touches.length > 0) handleMove(e.touches[0].clientX, e.touches[0].clientY);
        }, { passive: true });

        // RESIZE
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>